<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal">
<body>
<metal:block use-macro="here/content_lib_master/macros/master">
  <metal:block fill-slot="main"
               tal:define="wiki here/getParent;
                           parser_type wiki/parser;
                           source here/source">
    <form action="editPage"
          enctype="multipart/form-data"
          method="post">
      <div tal:condition="python:parser_type!='html'">
        <textarea style="width:100%; height:300px" tal:content="source" name="source">
        </textarea>
      </div>
      <div tal:condition="python:parser_type=='html'">
        <tal:block replace="structure python:here.Epoz(
            name='source', data=source, lang='en',
            style='width:100%; height:300px; border:1px solid #A0A0A0; border-style:solid;')" />
      </div>
      <div>
        <input name="submit" type="submit" value="save"/>
      </div>
    </form>
  </metal:block>
</metal:block>
</body>
</html>